- Always derive NSPanel frame from SwiftUI intrinsic size:
  1) set viewModel.visualState, 2) hostingView.layoutSubtreeIfNeeded(),
  3) let fitting = hostingView.fittingSize,
  4) let frameSize = panel.frameRect(forContentRect: .init(origin: .zero, size: fitting)).size,
  5) center on panel.screen ?? NSScreen.main.
- Never hard-code panel widths or heights for pill states.
- Paste must simulate Cmd+V; avoid direct NSPasteboard item rewrites.
- Agent mode is *only* while Cmd is held with Fn; Always-On ignores Cmd.
- Pill visuals:
  - Idle: tiny capsule 40×10 inside, black 0.92 fill, white 0.28 stroke.
  - Listening temp: [Waveform][Agent chip (command only)].
  - Listening AO: [✕][Waveform][⏹].
  - Transcribing: [Waveform][…typing dots][chip/buttons].
- SwiftUI components live under Overlay/, pure state machine in PillStateMachine.swift.
